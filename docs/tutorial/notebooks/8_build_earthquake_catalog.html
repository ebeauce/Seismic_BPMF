<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Build Earthquake Catalog &mdash; BPMF 2.0.0 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Updates" href="../../updates.html" />
    <link rel="prev" title="Template Matching" href="7_template_matching.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> BPMF
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usage.html">Usage</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../tutorial.html">Tutorial</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../general.html">Pre-requisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="0_initialize_project.html">Project Initialization</a></li>
<li class="toctree-l2"><a class="reference internal" href="1_download_data.html">Download Seismic Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="2_preprocess_data.html">Preprocess Seismic Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="3_network_file.html">Make Network File</a></li>
<li class="toctree-l2"><a class="reference internal" href="4_travel_times.html">Compute P-/S-wave travel Times</a></li>
<li class="toctree-l2"><a class="reference internal" href="5_backprojection.html">Backprojection of the Seismic Wavefield</a></li>
<li class="toctree-l2"><a class="reference internal" href="6_build_template_database.html">Build Template Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="7_template_matching.html">Template Matching</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Build Earthquake Catalog</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#Read-the-detected-events’-metadata-for-each-template">Read the detected events’ metadata for each template</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Remove-the-multiple-detections">Remove the multiple detections</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Relocate-events">Relocate events</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../updates.html">Updates</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">BPMF</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="../../tutorial.html">Tutorial</a></li>
      <li class="breadcrumb-item active">Build Earthquake Catalog</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/tutorial/notebooks/8_build_earthquake_catalog.ipynb.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container div.prompt *,
div.nboutput.container div.prompt *,
div.nbinput.container div.input_area pre,
div.nboutput.container div.output_area pre,
div.nbinput.container div.input_area .highlight,
div.nboutput.container div.output_area .highlight {
    border: none;
    padding: 0;
    margin: 0;
    box-shadow: none;
}

div.nbinput.container > div[class*=highlight],
div.nboutput.container > div[class*=highlight] {
    margin: 0;
}

div.nbinput.container div.prompt *,
div.nboutput.container div.prompt * {
    background: none;
}

div.nboutput.container div.output_area .highlight,
div.nboutput.container div.output_area pre {
    background: unset;
}

div.nboutput.container div.output_area div.highlight {
    color: unset;  /* override Pygments text color */
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    /*background: #f5f5f5;*/
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
    margin: 0;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt .copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
.jp-RenderedHTMLCommon table,
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
.jp-RenderedHTMLCommon thead,
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
.jp-RenderedHTMLCommon tr,
.jp-RenderedHTMLCommon th,
.jp-RenderedHTMLCommon td,
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
.jp-RenderedHTMLCommon th,
div.rendered_html th {
  font-weight: bold;
}
.jp-RenderedHTMLCommon tbody tr:nth-child(odd),
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
.jp-RenderedHTMLCommon tbody tr:hover,
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<section id="Build-Earthquake-Catalog">
<h1>Build Earthquake Catalog<a class="headerlink" href="#Build-Earthquake-Catalog" title="Permalink to this heading"></a></h1>
<p>In this final notebook, we read the matched-filter database, remove the multiple detections and write a clean earthquake catalog in a csv file.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">BPMF</span>
<span class="kn">import</span> <span class="nn">glob</span>
<span class="kn">import</span> <span class="nn">h5py</span> <span class="k">as</span> <span class="nn">h5</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">sys</span>

<span class="kn">from</span> <span class="nn">tqdm</span> <span class="kn">import</span> <span class="n">tqdm</span>
<span class="kn">from</span> <span class="nn">time</span> <span class="kn">import</span> <span class="n">time</span> <span class="k">as</span> <span class="n">give_time</span>

<span class="n">n_CPUs</span> <span class="o">=</span> <span class="mi">12</span>
<span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;OMP_NUM_THREADS&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">n_CPUs</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># PROGRAM PARAMETERS</span>
<span class="n">NETWORK_FILENAME</span> <span class="o">=</span> <span class="s2">&quot;network.csv&quot;</span>
<span class="n">TEMPLATE_DB</span> <span class="o">=</span> <span class="s2">&quot;template_db&quot;</span>
<span class="n">MATCHED_FILTER_DB</span> <span class="o">=</span> <span class="s2">&quot;matched_filter_db&quot;</span>
<span class="n">CHECK_SUMMARY_FILE</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">PATH_MF</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">BPMF</span><span class="o">.</span><span class="n">cfg</span><span class="o">.</span><span class="n">OUTPUT_PATH</span><span class="p">,</span> <span class="n">MATCHED_FILTER_DB</span><span class="p">)</span>
<span class="n">DATA_FOLDER</span> <span class="o">=</span> <span class="s2">&quot;preprocessed_2_12&quot;</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># read network metadata</span>
<span class="n">net</span> <span class="o">=</span> <span class="n">BPMF</span><span class="o">.</span><span class="n">dataset</span><span class="o">.</span><span class="n">Network</span><span class="p">(</span><span class="n">NETWORK_FILENAME</span><span class="p">)</span>
<span class="n">net</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</pre></div>
</div>
</div>
<section id="Read-the-detected-events’-metadata-for-each-template">
<h2>Read the detected events’ metadata for each template<a class="headerlink" href="#Read-the-detected-events’-metadata-for-each-template" title="Permalink to this heading"></a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># template filenames</span>
<span class="n">template_filenames</span> <span class="o">=</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">BPMF</span><span class="o">.</span><span class="n">cfg</span><span class="o">.</span><span class="n">OUTPUT_PATH</span><span class="p">,</span> <span class="n">TEMPLATE_DB</span><span class="p">,</span> <span class="s2">&quot;template*&quot;</span><span class="p">))</span>
<span class="n">template_filenames</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>

<span class="c1"># initialize the template group</span>
<span class="n">template_group</span> <span class="o">=</span> <span class="n">BPMF</span><span class="o">.</span><span class="n">dataset</span><span class="o">.</span><span class="n">TemplateGroup</span><span class="o">.</span><span class="n">read_from_files</span><span class="p">(</span><span class="n">template_filenames</span><span class="p">,</span> <span class="n">net</span><span class="p">)</span>
<span class="n">template_group</span><span class="o">.</span><span class="n">read_catalog</span><span class="p">(</span>
    <span class="n">extra_attributes</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;cc&quot;</span><span class="p">],</span>
    <span class="n">progress</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">db_path</span><span class="o">=</span><span class="n">PATH_MF</span><span class="p">,</span>
    <span class="n">check_summary_file</span><span class="o">=</span><span class="n">CHECK_SUMMARY_FILE</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
ERROR 1: PROJ: proj_create_from_database: Open of /home/ebeauce/miniconda3/envs/hy7_py310/share/proj failed
Reading catalog: 100%|██████████| 8/8 [00:00&lt;00:00, 12.84it/s]
</pre></div></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">BPMF.dataset.TemplateGroup</span></code> now has a <code class="docutils literal notranslate"><span class="pre">catalog</span></code> attribute, which is a <code class="docutils literal notranslate"><span class="pre">BPMF.dataset.Catalog</span></code> instance.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">template_group</span><span class="o">.</span><span class="n">catalog</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;BPMF.dataset.Catalog at 0x7fa9614c60e0&gt;
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">template_group</span><span class="o">.</span><span class="n">catalog</span><span class="o">.</span><span class="n">catalog</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>longitude</th>
      <th>latitude</th>
      <th>depth</th>
      <th>origin_time</th>
      <th>cc</th>
      <th>tid</th>
    </tr>
    <tr>
      <th>event_id</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2.0</th>
      <td>30.413867</td>
      <td>40.749531</td>
      <td>16.179688</td>
      <td>2012-07-07 06:56:02.160000+00:00</td>
      <td>0.432628</td>
      <td>2</td>
    </tr>
    <tr>
      <th>3.0</th>
      <td>30.439746</td>
      <td>40.739453</td>
      <td>-0.933594</td>
      <td>2012-07-07 06:56:02.200000+00:00</td>
      <td>0.290606</td>
      <td>3</td>
    </tr>
    <tr>
      <th>4.0</th>
      <td>30.414355</td>
      <td>40.749766</td>
      <td>9.324219</td>
      <td>2012-07-07 06:56:02.600000+00:00</td>
      <td>0.330700</td>
      <td>4</td>
    </tr>
    <tr>
      <th>0.0</th>
      <td>30.409473</td>
      <td>40.749766</td>
      <td>8.917969</td>
      <td>2012-07-07 06:56:02.800000+00:00</td>
      <td>1.000000</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1.0</th>
      <td>30.365527</td>
      <td>40.736641</td>
      <td>4.652344</td>
      <td>2012-07-07 06:56:03.560000+00:00</td>
      <td>0.307322</td>
      <td>1</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>3.15</th>
      <td>30.439746</td>
      <td>40.739453</td>
      <td>-0.933594</td>
      <td>2012-07-07 16:50:34.760000+00:00</td>
      <td>0.244599</td>
      <td>3</td>
    </tr>
    <tr>
      <th>1.27</th>
      <td>30.365527</td>
      <td>40.736641</td>
      <td>4.652344</td>
      <td>2012-07-07 16:50:36.120000+00:00</td>
      <td>0.309978</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2.32</th>
      <td>30.413867</td>
      <td>40.749531</td>
      <td>16.179688</td>
      <td>2012-07-07 19:23:20.520000+00:00</td>
      <td>0.146354</td>
      <td>2</td>
    </tr>
    <tr>
      <th>3.16</th>
      <td>30.439746</td>
      <td>40.739453</td>
      <td>-0.933594</td>
      <td>2012-07-07 20:23:54.480000+00:00</td>
      <td>0.180567</td>
      <td>3</td>
    </tr>
    <tr>
      <th>1.28</th>
      <td>30.365527</td>
      <td>40.736641</td>
      <td>4.652344</td>
      <td>2012-07-07 20:23:55.840000+00:00</td>
      <td>0.208675</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
<p>158 rows × 6 columns</p>
</div></div>
</div>
</section>
<section id="Remove-the-multiple-detections">
<h2>Remove the multiple detections<a class="headerlink" href="#Remove-the-multiple-detections" title="Permalink to this heading"></a></h2>
<p>Remove multiple detections with the <code class="docutils literal notranslate"><span class="pre">TemplateGroup.remove_multiples</span></code> method.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># DISTANCE_CRITERION_KM: Distance, in km, between two detected events (within uncertainties) below which</span>
<span class="c1">#                        detected events are investigated for equality.</span>
<span class="n">DISTANCE_CRITERION_KM</span> <span class="o">=</span> <span class="mf">15.0</span>
<span class="c1"># DT_CRITERION_SEC: Inter-event time, in seconds, between two detected events below which</span>
<span class="c1">#                   detected events are investigated for equality.</span>
<span class="n">DT_CRITERION_SEC</span> <span class="o">=</span> <span class="mf">4.0</span>
<span class="c1"># SIMILARITY_CRITERION: Inter-template correlation coefficient below which detected events are investigated for equality.</span>
<span class="n">SIMILARITY_CRITERION</span> <span class="o">=</span> <span class="mf">0.10</span>
<span class="c1"># N_CLOSEST_STATIONS: When computing the inter-template correlation coefficient, use the N_CLOSEST_STATIONS closest stations</span>
<span class="c1">#                     of a given pair of templates. This parameter is relevant for studies with large seismic networks.</span>
<span class="n">N_CLOSEST_STATIONS</span> <span class="o">=</span> <span class="mi">10</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># we need to read the waveforms first</span>
<span class="n">template_group</span><span class="o">.</span><span class="n">read_waveforms</span><span class="p">()</span>
<span class="n">template_group</span><span class="o">.</span><span class="n">normalize</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s2">&quot;rms&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">template_group</span><span class="o">.</span><span class="n">remove_multiples</span><span class="p">(</span>
    <span class="n">n_closest_stations</span><span class="o">=</span><span class="n">N_CLOSEST_STATIONS</span><span class="p">,</span>
    <span class="n">dt_criterion</span><span class="o">=</span><span class="n">DT_CRITERION_SEC</span><span class="p">,</span>
    <span class="n">distance_criterion</span><span class="o">=</span><span class="n">DISTANCE_CRITERION_KM</span><span class="p">,</span>
    <span class="n">similarity_criterion</span><span class="o">=</span><span class="n">SIMILARITY_CRITERION</span><span class="p">,</span>
    <span class="n">progress</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="p">)</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Computing the similarity matrix...
Computing the inter-template directional errors...
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
/home/ebeauce/miniconda3/envs/hy7_py310/lib/python3.10/site-packages/BPMF/dataset.py:2884: RuntimeWarning: invalid value encountered in true_divide
  unit_direction /= np.sqrt(np.sum(unit_direction**2, axis=1))[
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Searching for events detected by multiple templates
All events occurring within 4.0 sec, with uncertainty ellipsoids closer than 15.0 km will and inter-template CC larger than 0.10 be considered the same
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Removing multiples: 100%|██████████| 158/158 [00:00&lt;00:00, 2250.65it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
0.07s to flag the multiples
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<p>The catalog now has a new column: <code class="docutils literal notranslate"><span class="pre">unique_event</span></code>.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">template_group</span><span class="o">.</span><span class="n">catalog</span><span class="o">.</span><span class="n">catalog</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>longitude</th>
      <th>latitude</th>
      <th>depth</th>
      <th>origin_time</th>
      <th>cc</th>
      <th>tid</th>
      <th>origin_time_sec</th>
      <th>interevent_time_sec</th>
      <th>unique_event</th>
    </tr>
    <tr>
      <th>event_id</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2.0</th>
      <td>30.413867</td>
      <td>40.749531</td>
      <td>16.179688</td>
      <td>2012-07-07 06:56:02.160000+00:00</td>
      <td>0.432628</td>
      <td>2</td>
      <td>1.341644e+09</td>
      <td>0.00</td>
      <td>False</td>
    </tr>
    <tr>
      <th>3.0</th>
      <td>30.439746</td>
      <td>40.739453</td>
      <td>-0.933594</td>
      <td>2012-07-07 06:56:02.200000+00:00</td>
      <td>0.290606</td>
      <td>3</td>
      <td>1.341644e+09</td>
      <td>0.04</td>
      <td>False</td>
    </tr>
    <tr>
      <th>4.0</th>
      <td>30.414355</td>
      <td>40.749766</td>
      <td>9.324219</td>
      <td>2012-07-07 06:56:02.600000+00:00</td>
      <td>0.330700</td>
      <td>4</td>
      <td>1.341644e+09</td>
      <td>0.40</td>
      <td>False</td>
    </tr>
    <tr>
      <th>0.0</th>
      <td>30.409473</td>
      <td>40.749766</td>
      <td>8.917969</td>
      <td>2012-07-07 06:56:02.800000+00:00</td>
      <td>1.000000</td>
      <td>0</td>
      <td>1.341644e+09</td>
      <td>0.20</td>
      <td>True</td>
    </tr>
    <tr>
      <th>1.0</th>
      <td>30.365527</td>
      <td>40.736641</td>
      <td>4.652344</td>
      <td>2012-07-07 06:56:03.560000+00:00</td>
      <td>0.307322</td>
      <td>1</td>
      <td>1.341644e+09</td>
      <td>0.76</td>
      <td>False</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>3.15</th>
      <td>30.439746</td>
      <td>40.739453</td>
      <td>-0.933594</td>
      <td>2012-07-07 16:50:34.760000+00:00</td>
      <td>0.244599</td>
      <td>3</td>
      <td>1.341680e+09</td>
      <td>5059.48</td>
      <td>False</td>
    </tr>
    <tr>
      <th>1.27</th>
      <td>30.365527</td>
      <td>40.736641</td>
      <td>4.652344</td>
      <td>2012-07-07 16:50:36.120000+00:00</td>
      <td>0.309978</td>
      <td>1</td>
      <td>1.341680e+09</td>
      <td>1.36</td>
      <td>True</td>
    </tr>
    <tr>
      <th>2.32</th>
      <td>30.413867</td>
      <td>40.749531</td>
      <td>16.179688</td>
      <td>2012-07-07 19:23:20.520000+00:00</td>
      <td>0.146354</td>
      <td>2</td>
      <td>1.341689e+09</td>
      <td>9164.40</td>
      <td>True</td>
    </tr>
    <tr>
      <th>3.16</th>
      <td>30.439746</td>
      <td>40.739453</td>
      <td>-0.933594</td>
      <td>2012-07-07 20:23:54.480000+00:00</td>
      <td>0.180567</td>
      <td>3</td>
      <td>1.341693e+09</td>
      <td>3633.96</td>
      <td>False</td>
    </tr>
    <tr>
      <th>1.28</th>
      <td>30.365527</td>
      <td>40.736641</td>
      <td>4.652344</td>
      <td>2012-07-07 20:23:55.840000+00:00</td>
      <td>0.208675</td>
      <td>1</td>
      <td>1.341693e+09</td>
      <td>1.36</td>
      <td>True</td>
    </tr>
  </tbody>
</table>
<p>158 rows × 9 columns</p>
</div></div>
</div>
<p>The final catalog is made of the unique events only.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">template_group</span><span class="o">.</span><span class="n">catalog</span><span class="o">.</span><span class="n">catalog</span> <span class="o">=</span> <span class="n">template_group</span><span class="o">.</span><span class="n">catalog</span><span class="o">.</span><span class="n">catalog</span><span class="p">[</span><span class="n">template_group</span><span class="o">.</span><span class="n">catalog</span><span class="o">.</span><span class="n">catalog</span><span class="p">[</span><span class="s2">&quot;unique_event&quot;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">template_group</span><span class="o">.</span><span class="n">catalog</span><span class="o">.</span><span class="n">catalog</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>longitude</th>
      <th>latitude</th>
      <th>depth</th>
      <th>origin_time</th>
      <th>cc</th>
      <th>tid</th>
      <th>origin_time_sec</th>
      <th>interevent_time_sec</th>
      <th>unique_event</th>
    </tr>
    <tr>
      <th>event_id</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0.0</th>
      <td>30.409473</td>
      <td>40.749766</td>
      <td>8.917969</td>
      <td>2012-07-07 06:56:02.800000+00:00</td>
      <td>1.000000</td>
      <td>0</td>
      <td>1.341644e+09</td>
      <td>0.20</td>
      <td>True</td>
    </tr>
    <tr>
      <th>0.1</th>
      <td>30.409473</td>
      <td>40.749766</td>
      <td>8.917969</td>
      <td>2012-07-07 06:56:52.720000+00:00</td>
      <td>0.472709</td>
      <td>0</td>
      <td>1.341644e+09</td>
      <td>0.20</td>
      <td>True</td>
    </tr>
    <tr>
      <th>0.2</th>
      <td>30.409473</td>
      <td>40.749766</td>
      <td>8.917969</td>
      <td>2012-07-07 07:07:46.040000+00:00</td>
      <td>0.406057</td>
      <td>0</td>
      <td>1.341645e+09</td>
      <td>0.16</td>
      <td>True</td>
    </tr>
    <tr>
      <th>3.3</th>
      <td>30.439746</td>
      <td>40.739453</td>
      <td>-0.933594</td>
      <td>2012-07-07 07:09:59.600000+00:00</td>
      <td>0.247610</td>
      <td>3</td>
      <td>1.341645e+09</td>
      <td>132.64</td>
      <td>True</td>
    </tr>
    <tr>
      <th>0.3</th>
      <td>30.409473</td>
      <td>40.749766</td>
      <td>8.917969</td>
      <td>2012-07-07 07:10:12.680000+00:00</td>
      <td>0.180725</td>
      <td>0</td>
      <td>1.341645e+09</td>
      <td>0.64</td>
      <td>True</td>
    </tr>
    <tr>
      <th>4.3</th>
      <td>30.414355</td>
      <td>40.749766</td>
      <td>9.324219</td>
      <td>2012-07-07 07:10:20.080000+00:00</td>
      <td>0.398994</td>
      <td>4</td>
      <td>1.341645e+09</td>
      <td>7.40</td>
      <td>True</td>
    </tr>
    <tr>
      <th>4.4</th>
      <td>30.414355</td>
      <td>40.749766</td>
      <td>9.324219</td>
      <td>2012-07-07 07:10:39.240000+00:00</td>
      <td>0.377552</td>
      <td>4</td>
      <td>1.341645e+09</td>
      <td>18.12</td>
      <td>True</td>
    </tr>
    <tr>
      <th>2.4</th>
      <td>30.413867</td>
      <td>40.749531</td>
      <td>16.179688</td>
      <td>2012-07-07 07:10:53.600000+00:00</td>
      <td>0.392783</td>
      <td>2</td>
      <td>1.341645e+09</td>
      <td>13.32</td>
      <td>True</td>
    </tr>
    <tr>
      <th>1.6</th>
      <td>30.365527</td>
      <td>40.736641</td>
      <td>4.652344</td>
      <td>2012-07-07 07:11:08.560000+00:00</td>
      <td>1.000000</td>
      <td>1</td>
      <td>1.341645e+09</td>
      <td>0.76</td>
      <td>True</td>
    </tr>
    <tr>
      <th>1.7</th>
      <td>30.365527</td>
      <td>40.736641</td>
      <td>4.652344</td>
      <td>2012-07-07 07:11:20.040000+00:00</td>
      <td>0.186660</td>
      <td>1</td>
      <td>1.341645e+09</td>
      <td>11.36</td>
      <td>True</td>
    </tr>
    <tr>
      <th>1.8</th>
      <td>30.365527</td>
      <td>40.736641</td>
      <td>4.652344</td>
      <td>2012-07-07 07:11:34.480000+00:00</td>
      <td>0.231058</td>
      <td>1</td>
      <td>1.341645e+09</td>
      <td>14.44</td>
      <td>True</td>
    </tr>
    <tr>
      <th>4.7</th>
      <td>30.414355</td>
      <td>40.749766</td>
      <td>9.324219</td>
      <td>2012-07-07 07:12:06.240000+00:00</td>
      <td>0.520927</td>
      <td>4</td>
      <td>1.341645e+09</td>
      <td>0.40</td>
      <td>True</td>
    </tr>
    <tr>
      <th>2.7</th>
      <td>30.413867</td>
      <td>40.749531</td>
      <td>16.179688</td>
      <td>2012-07-07 07:14:24.960000+00:00</td>
      <td>1.000000</td>
      <td>2</td>
      <td>1.341645e+09</td>
      <td>137.68</td>
      <td>True</td>
    </tr>
    <tr>
      <th>2.8</th>
      <td>30.413867</td>
      <td>40.749531</td>
      <td>16.179688</td>
      <td>2012-07-07 07:15:44.840000+00:00</td>
      <td>0.184301</td>
      <td>2</td>
      <td>1.341645e+09</td>
      <td>78.48</td>
      <td>True</td>
    </tr>
    <tr>
      <th>4.9</th>
      <td>30.414355</td>
      <td>40.749766</td>
      <td>9.324219</td>
      <td>2012-07-07 07:18:17.120000+00:00</td>
      <td>0.394677</td>
      <td>4</td>
      <td>1.341645e+09</td>
      <td>152.28</td>
      <td>True</td>
    </tr>
    <tr>
      <th>0.10</th>
      <td>30.409473</td>
      <td>40.749766</td>
      <td>8.917969</td>
      <td>2012-07-07 07:22:16.480000+00:00</td>
      <td>0.169376</td>
      <td>0</td>
      <td>1.341646e+09</td>
      <td>238.40</td>
      <td>True</td>
    </tr>
    <tr>
      <th>1.12</th>
      <td>30.365527</td>
      <td>40.736641</td>
      <td>4.652344</td>
      <td>2012-07-07 07:23:09.600000+00:00</td>
      <td>0.538661</td>
      <td>1</td>
      <td>1.341646e+09</td>
      <td>0.76</td>
      <td>True</td>
    </tr>
    <tr>
      <th>2.9</th>
      <td>30.413867</td>
      <td>40.749531</td>
      <td>16.179688</td>
      <td>2012-07-07 07:24:09.520000+00:00</td>
      <td>0.188573</td>
      <td>2</td>
      <td>1.341646e+09</td>
      <td>59.92</td>
      <td>True</td>
    </tr>
    <tr>
      <th>4.11</th>
      <td>30.414355</td>
      <td>40.749766</td>
      <td>9.324219</td>
      <td>2012-07-07 07:24:34.080000+00:00</td>
      <td>1.000000</td>
      <td>4</td>
      <td>1.341646e+09</td>
      <td>0.40</td>
      <td>True</td>
    </tr>
    <tr>
      <th>2.11</th>
      <td>30.413867</td>
      <td>40.749531</td>
      <td>16.179688</td>
      <td>2012-07-07 07:26:09.880000+00:00</td>
      <td>0.213727</td>
      <td>2</td>
      <td>1.341646e+09</td>
      <td>94.76</td>
      <td>True</td>
    </tr>
    <tr>
      <th>2.12</th>
      <td>30.413867</td>
      <td>40.749531</td>
      <td>16.179688</td>
      <td>2012-07-07 07:27:21.520000+00:00</td>
      <td>0.243206</td>
      <td>2</td>
      <td>1.341646e+09</td>
      <td>71.64</td>
      <td>True</td>
    </tr>
    <tr>
      <th>4.13</th>
      <td>30.414355</td>
      <td>40.749766</td>
      <td>9.324219</td>
      <td>2012-07-07 07:29:49+00:00</td>
      <td>0.208277</td>
      <td>4</td>
      <td>1.341646e+09</td>
      <td>146.80</td>
      <td>True</td>
    </tr>
    <tr>
      <th>0.14</th>
      <td>30.409473</td>
      <td>40.749766</td>
      <td>8.917969</td>
      <td>2012-07-07 07:34:43.160000+00:00</td>
      <td>0.517379</td>
      <td>0</td>
      <td>1.341646e+09</td>
      <td>0.20</td>
      <td>True</td>
    </tr>
    <tr>
      <th>1.15</th>
      <td>30.365527</td>
      <td>40.736641</td>
      <td>4.652344</td>
      <td>2012-07-07 07:35:59.280000+00:00</td>
      <td>0.338245</td>
      <td>1</td>
      <td>1.341647e+09</td>
      <td>0.76</td>
      <td>True</td>
    </tr>
    <tr>
      <th>6.8</th>
      <td>30.363086</td>
      <td>40.727969</td>
      <td>-0.882812</td>
      <td>2012-07-07 07:39:18.800000+00:00</td>
      <td>0.282421</td>
      <td>6</td>
      <td>1.341647e+09</td>
      <td>0.12</td>
      <td>True</td>
    </tr>
    <tr>
      <th>3.12</th>
      <td>30.439746</td>
      <td>40.739453</td>
      <td>-0.933594</td>
      <td>2012-07-07 08:00:23.280000+00:00</td>
      <td>0.201788</td>
      <td>3</td>
      <td>1.341648e+09</td>
      <td>1264.48</td>
      <td>True</td>
    </tr>
    <tr>
      <th>2.14</th>
      <td>30.413867</td>
      <td>40.749531</td>
      <td>16.179688</td>
      <td>2012-07-07 08:10:46.520000+00:00</td>
      <td>0.159820</td>
      <td>2</td>
      <td>1.341649e+09</td>
      <td>621.88</td>
      <td>True</td>
    </tr>
    <tr>
      <th>4.17</th>
      <td>30.414355</td>
      <td>40.749766</td>
      <td>9.324219</td>
      <td>2012-07-07 08:15:48.920000+00:00</td>
      <td>0.216080</td>
      <td>4</td>
      <td>1.341649e+09</td>
      <td>0.44</td>
      <td>True</td>
    </tr>
    <tr>
      <th>4.18</th>
      <td>30.414355</td>
      <td>40.749766</td>
      <td>9.324219</td>
      <td>2012-07-07 08:17:35.040000+00:00</td>
      <td>0.453781</td>
      <td>4</td>
      <td>1.341649e+09</td>
      <td>0.44</td>
      <td>True</td>
    </tr>
    <tr>
      <th>2.17</th>
      <td>30.413867</td>
      <td>40.749531</td>
      <td>16.179688</td>
      <td>2012-07-07 08:30:27.200000+00:00</td>
      <td>0.220648</td>
      <td>2</td>
      <td>1.341650e+09</td>
      <td>771.12</td>
      <td>True</td>
    </tr>
    <tr>
      <th>2.18</th>
      <td>30.413867</td>
      <td>40.749531</td>
      <td>16.179688</td>
      <td>2012-07-07 08:41:19.160000+00:00</td>
      <td>0.232859</td>
      <td>2</td>
      <td>1.341650e+09</td>
      <td>651.96</td>
      <td>True</td>
    </tr>
    <tr>
      <th>2.19</th>
      <td>30.413867</td>
      <td>40.749531</td>
      <td>16.179688</td>
      <td>2012-07-07 08:45:27.560000+00:00</td>
      <td>0.223718</td>
      <td>2</td>
      <td>1.341651e+09</td>
      <td>247.76</td>
      <td>True</td>
    </tr>
    <tr>
      <th>4.20</th>
      <td>30.414355</td>
      <td>40.749766</td>
      <td>9.324219</td>
      <td>2012-07-07 08:46:34.360000+00:00</td>
      <td>0.275816</td>
      <td>4</td>
      <td>1.341651e+09</td>
      <td>0.40</td>
      <td>True</td>
    </tr>
    <tr>
      <th>2.21</th>
      <td>30.413867</td>
      <td>40.749531</td>
      <td>16.179688</td>
      <td>2012-07-07 08:47:00.520000+00:00</td>
      <td>0.411563</td>
      <td>2</td>
      <td>1.341651e+09</td>
      <td>25.08</td>
      <td>True</td>
    </tr>
    <tr>
      <th>3.13</th>
      <td>30.439746</td>
      <td>40.739453</td>
      <td>-0.933594</td>
      <td>2012-07-07 08:48:43.720000+00:00</td>
      <td>1.000000</td>
      <td>3</td>
      <td>1.341651e+09</td>
      <td>0.04</td>
      <td>True</td>
    </tr>
    <tr>
      <th>1.20</th>
      <td>30.365527</td>
      <td>40.736641</td>
      <td>4.652344</td>
      <td>2012-07-07 08:50:03+00:00</td>
      <td>0.151161</td>
      <td>1</td>
      <td>1.341651e+09</td>
      <td>77.80</td>
      <td>True</td>
    </tr>
    <tr>
      <th>4.22</th>
      <td>30.414355</td>
      <td>40.749766</td>
      <td>9.324219</td>
      <td>2012-07-07 09:10:00.680000+00:00</td>
      <td>0.389309</td>
      <td>4</td>
      <td>1.341652e+09</td>
      <td>0.40</td>
      <td>True</td>
    </tr>
    <tr>
      <th>1.22</th>
      <td>30.365527</td>
      <td>40.736641</td>
      <td>4.652344</td>
      <td>2012-07-07 09:10:56.680000+00:00</td>
      <td>0.163008</td>
      <td>1</td>
      <td>1.341652e+09</td>
      <td>0.96</td>
      <td>True</td>
    </tr>
    <tr>
      <th>2.24</th>
      <td>30.413867</td>
      <td>40.749531</td>
      <td>16.179688</td>
      <td>2012-07-07 09:20:12.040000+00:00</td>
      <td>0.693182</td>
      <td>2</td>
      <td>1.341653e+09</td>
      <td>555.36</td>
      <td>True</td>
    </tr>
    <tr>
      <th>6.13</th>
      <td>30.363086</td>
      <td>40.727969</td>
      <td>-0.882812</td>
      <td>2012-07-07 09:27:11.240000+00:00</td>
      <td>0.360983</td>
      <td>6</td>
      <td>1.341653e+09</td>
      <td>0.08</td>
      <td>True</td>
    </tr>
    <tr>
      <th>2.25</th>
      <td>30.413867</td>
      <td>40.749531</td>
      <td>16.179688</td>
      <td>2012-07-07 09:42:13.400000+00:00</td>
      <td>0.207445</td>
      <td>2</td>
      <td>1.341654e+09</td>
      <td>902.16</td>
      <td>True</td>
    </tr>
    <tr>
      <th>2.26</th>
      <td>30.413867</td>
      <td>40.749531</td>
      <td>16.179688</td>
      <td>2012-07-07 09:46:04.520000+00:00</td>
      <td>0.250705</td>
      <td>2</td>
      <td>1.341654e+09</td>
      <td>230.48</td>
      <td>True</td>
    </tr>
    <tr>
      <th>2.27</th>
      <td>30.413867</td>
      <td>40.749531</td>
      <td>16.179688</td>
      <td>2012-07-07 09:52:19.200000+00:00</td>
      <td>0.150789</td>
      <td>2</td>
      <td>1.341655e+09</td>
      <td>374.04</td>
      <td>True</td>
    </tr>
    <tr>
      <th>1.25</th>
      <td>30.365527</td>
      <td>40.736641</td>
      <td>4.652344</td>
      <td>2012-07-07 09:59:28.280000+00:00</td>
      <td>0.191176</td>
      <td>1</td>
      <td>1.341655e+09</td>
      <td>0.96</td>
      <td>True</td>
    </tr>
    <tr>
      <th>2.28</th>
      <td>30.413867</td>
      <td>40.749531</td>
      <td>16.179688</td>
      <td>2012-07-07 10:05:20.640000+00:00</td>
      <td>0.158694</td>
      <td>2</td>
      <td>1.341656e+09</td>
      <td>352.36</td>
      <td>True</td>
    </tr>
    <tr>
      <th>5.0</th>
      <td>30.420000</td>
      <td>40.750000</td>
      <td>-2.000000</td>
      <td>2012-07-07 10:16:39.560000+00:00</td>
      <td>1.000000</td>
      <td>5</td>
      <td>1.341656e+09</td>
      <td>678.92</td>
      <td>True</td>
    </tr>
    <tr>
      <th>6.14</th>
      <td>30.363086</td>
      <td>40.727969</td>
      <td>-0.882812</td>
      <td>2012-07-07 10:41:35.520000+00:00</td>
      <td>1.000000</td>
      <td>6</td>
      <td>1.341658e+09</td>
      <td>0.12</td>
      <td>True</td>
    </tr>
    <tr>
      <th>2.29</th>
      <td>30.413867</td>
      <td>40.749531</td>
      <td>16.179688</td>
      <td>2012-07-07 11:15:32.240000+00:00</td>
      <td>0.219736</td>
      <td>2</td>
      <td>1.341660e+09</td>
      <td>2036.72</td>
      <td>True</td>
    </tr>
    <tr>
      <th>2.30</th>
      <td>30.413867</td>
      <td>40.749531</td>
      <td>16.179688</td>
      <td>2012-07-07 11:23:41.120000+00:00</td>
      <td>0.289398</td>
      <td>2</td>
      <td>1.341660e+09</td>
      <td>488.24</td>
      <td>True</td>
    </tr>
    <tr>
      <th>2.31</th>
      <td>30.413867</td>
      <td>40.749531</td>
      <td>16.179688</td>
      <td>2012-07-07 12:13:39.280000+00:00</td>
      <td>0.268495</td>
      <td>2</td>
      <td>1.341663e+09</td>
      <td>2997.52</td>
      <td>True</td>
    </tr>
    <tr>
      <th>7.0</th>
      <td>30.340000</td>
      <td>40.740000</td>
      <td>22.000000</td>
      <td>2012-07-07 15:26:15.280000+00:00</td>
      <td>1.000000</td>
      <td>7</td>
      <td>1.341675e+09</td>
      <td>11555.36</td>
      <td>True</td>
    </tr>
    <tr>
      <th>1.27</th>
      <td>30.365527</td>
      <td>40.736641</td>
      <td>4.652344</td>
      <td>2012-07-07 16:50:36.120000+00:00</td>
      <td>0.309978</td>
      <td>1</td>
      <td>1.341680e+09</td>
      <td>1.36</td>
      <td>True</td>
    </tr>
    <tr>
      <th>2.32</th>
      <td>30.413867</td>
      <td>40.749531</td>
      <td>16.179688</td>
      <td>2012-07-07 19:23:20.520000+00:00</td>
      <td>0.146354</td>
      <td>2</td>
      <td>1.341689e+09</td>
      <td>9164.40</td>
      <td>True</td>
    </tr>
    <tr>
      <th>1.28</th>
      <td>30.365527</td>
      <td>40.736641</td>
      <td>4.652344</td>
      <td>2012-07-07 20:23:55.840000+00:00</td>
      <td>0.208675</td>
      <td>1</td>
      <td>1.341693e+09</td>
      <td>1.36</td>
      <td>True</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">template_group</span><span class="o">.</span><span class="n">catalog</span><span class="o">.</span><span class="n">plot_map</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/tutorial_notebooks_8_build_earthquake_catalog_18_0.png" src="../../_images/tutorial_notebooks_8_build_earthquake_catalog_18_0.png" />
</div>
</div>
</section>
<section id="Relocate-events">
<h2>Relocate events<a class="headerlink" href="#Relocate-events" title="Permalink to this heading"></a></h2>
<p>All earthquakes detected with the same template are simply given the template location. However, their actual locations are spread around. Here, we create an <code class="docutils literal notranslate"><span class="pre">Event</span></code> instance for each of the unique events and use <code class="docutils literal notranslate"><span class="pre">phasenet</span></code> and <code class="docutils literal notranslate"><span class="pre">NLLoc</span></code> to relocate them.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">tensorflow</span> <span class="k">as</span> <span class="nn">tf</span>

<span class="kn">from</span> <span class="nn">BPMF.data_reader_examples</span> <span class="kn">import</span> <span class="n">data_reader_mseed</span>

<span class="c1"># this is necessary to limit the number of threads spawn by tf</span>
<span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;TF_NUM_INTRAOP_THREADS&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">n_CPUs</span><span class="p">)</span>
<span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;TF_NUM_INTEROP_THREADS&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">n_CPUs</span><span class="p">)</span>
<span class="n">tf</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">threading</span><span class="o">.</span><span class="n">set_inter_op_parallelism_threads</span><span class="p">(</span><span class="n">n_CPUs</span><span class="p">)</span>
<span class="n">tf</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">threading</span><span class="o">.</span><span class="n">set_intra_op_parallelism_threads</span><span class="p">(</span><span class="n">n_CPUs</span><span class="p">)</span>
<span class="n">tf</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_soft_device_placement</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
2022-09-26 15:42:42.656085: W tensorflow/stream_executor/platform/default/dso_loader.cc:64] Could not load dynamic library &#39;libcudart.so.11.0&#39;; dlerror: libcudart.so.11.0: cannot open shared object file: No such file or directory; LD_LIBRARY_PATH: /usr/local/cuda-11.7/lib64
2022-09-26 15:42:42.656130: I tensorflow/stream_executor/cuda/cudart_stub.cc:29] Ignore above cudart dlerror if you do not have a GPU set up on your machine.
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># DURATION_SEC: the duration, in seconds, of the data stream starting at the detection time</span>
<span class="c1">#               defined by Event.origin_time. This data stream is used for picking the P/S waves.</span>
<span class="n">DURATION_SEC</span> <span class="o">=</span> <span class="mf">60.0</span>
<span class="c1"># THRESHOLD_P: probability of P-wave arrival above which we declare a pick. If several picks are</span>
<span class="c1">#              declared during the DURATION_SEC data stream, we only keep the best one. We can</span>
<span class="c1">#              afford using a low probability threshold since we already know with some confidence</span>
<span class="c1">#              that an earthquake is in the data stream.</span>
<span class="n">THRESHOLD_P</span> <span class="o">=</span> <span class="mf">0.10</span>
<span class="c1"># THRESHOLD_S: probability of S-wave arrival above which we declare a pick.</span>
<span class="n">THRESHOLD_S</span> <span class="o">=</span> <span class="mf">0.10</span>
<span class="c1"># PHASE_ON_COMP: dictionary defining which moveout we use to extract the waveform</span>
<span class="n">PHASE_ON_COMP</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;N&quot;</span><span class="p">:</span> <span class="s2">&quot;S&quot;</span><span class="p">,</span> <span class="s2">&quot;1&quot;</span><span class="p">:</span> <span class="s2">&quot;S&quot;</span><span class="p">,</span> <span class="s2">&quot;E&quot;</span><span class="p">:</span> <span class="s2">&quot;S&quot;</span><span class="p">,</span> <span class="s2">&quot;2&quot;</span><span class="p">:</span> <span class="s2">&quot;S&quot;</span><span class="p">,</span> <span class="s2">&quot;Z&quot;</span><span class="p">:</span> <span class="s2">&quot;P&quot;</span><span class="p">}</span>
<span class="c1"># MAX_HORIZONTAL_UNC_KM: Horizontal location uncertainty, in km, above which we keep the template location</span>
<span class="n">MAX_HORIZONTAL_UNC_KM</span> <span class="o">=</span> <span class="mf">10.</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">events</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">template_group</span><span class="o">.</span><span class="n">catalog</span><span class="o">.</span><span class="n">catalog</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
    <span class="n">tid</span><span class="p">,</span> <span class="n">evidx</span> <span class="o">=</span> <span class="n">row</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>
    <span class="c1"># get the template instance from template_group</span>
    <span class="n">template</span> <span class="o">=</span> <span class="n">template_group</span><span class="o">.</span><span class="n">templates</span><span class="p">[</span><span class="n">template_group</span><span class="o">.</span><span class="n">tindexes</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">tid</span><span class="p">)]]</span>
    <span class="c1"># this is the filename of the database where template tid&#39;s detected events were stored</span>
    <span class="n">detection_db_filename</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;detections_template</span><span class="si">{</span><span class="n">tid</span><span class="si">}</span><span class="s2">.h5&quot;</span>
    <span class="n">db_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">BPMF</span><span class="o">.</span><span class="n">cfg</span><span class="o">.</span><span class="n">OUTPUT_PATH</span><span class="p">,</span> <span class="n">MATCHED_FILTER_DB</span><span class="p">)</span>
    <span class="k">with</span> <span class="n">h5</span><span class="o">.</span><span class="n">File</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">db_path</span><span class="p">,</span> <span class="n">detection_db_filename</span><span class="p">),</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fdet</span><span class="p">:</span>
        <span class="n">keys</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">fdet</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="n">event</span> <span class="o">=</span> <span class="n">BPMF</span><span class="o">.</span><span class="n">dataset</span><span class="o">.</span><span class="n">Event</span><span class="o">.</span><span class="n">read_from_file</span><span class="p">(</span><span class="n">hdf5_file</span><span class="o">=</span><span class="n">fdet</span><span class="p">[</span><span class="n">keys</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">evidx</span><span class="p">)]])</span>
    <span class="c1"># attach data reader this way (note: conflict with data_reader argument in phasenet&#39;s wrapper module)</span>
    <span class="n">event</span><span class="o">.</span><span class="n">data_reader</span> <span class="o">=</span> <span class="n">data_reader_mseed</span>
    <span class="c1"># pick P-/S-wave arrivals</span>
    <span class="n">event</span><span class="o">.</span><span class="n">pick_PS_phases</span><span class="p">(</span>
        <span class="n">DURATION_SEC</span><span class="p">,</span>
        <span class="n">phase_on_comp</span><span class="o">=</span><span class="n">PHASE_ON_COMP</span><span class="p">,</span>
        <span class="n">threshold_P</span><span class="o">=</span><span class="n">THRESHOLD_P</span><span class="p">,</span>
        <span class="n">threshold_S</span><span class="o">=</span><span class="n">THRESHOLD_S</span><span class="p">,</span>
        <span class="n">inter_op_parallelism_threads</span><span class="o">=</span><span class="n">n_CPUs</span><span class="p">,</span>
        <span class="n">intra_op_parallelism_threads</span><span class="o">=</span><span class="n">n_CPUs</span><span class="p">,</span>
        <span class="n">data_folder</span><span class="o">=</span><span class="n">DATA_FOLDER</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">event</span><span class="o">.</span><span class="n">relocate</span><span class="p">()</span>
    <span class="n">events</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
    <span class="k">if</span> <span class="p">(</span><span class="s2">&quot;NLLoc_reloc&quot;</span> <span class="ow">in</span> <span class="n">event</span><span class="o">.</span><span class="n">aux_data</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">hmax_unc</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">MAX_HORIZONTAL_UNC_KM</span><span class="p">:</span>
        <span class="n">template_group</span><span class="o">.</span><span class="n">catalog</span><span class="o">.</span><span class="n">catalog</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s2">&quot;longitude&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">longitude</span>
        <span class="n">template_group</span><span class="o">.</span><span class="n">catalog</span><span class="o">.</span><span class="n">catalog</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s2">&quot;latitude&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">latitude</span>
        <span class="n">template_group</span><span class="o">.</span><span class="n">catalog</span><span class="o">.</span><span class="n">catalog</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s2">&quot;depth&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">depth</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
n events: 1, n stations: 8, batch size (n events x n stations): 8
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Pred: 100%|██████████| 1/1 [00:00&lt;00:00,  4.87it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
n events: 1, n stations: 8, batch size (n events x n stations): 8
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Pred: 100%|██████████| 1/1 [00:00&lt;00:00,  6.43it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
n events: 1, n stations: 8, batch size (n events x n stations): 8
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Pred: 100%|██████████| 1/1 [00:00&lt;00:00,  6.39it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
n events: 1, n stations: 8, batch size (n events x n stations): 8
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Pred: 100%|██████████| 1/1 [00:00&lt;00:00,  6.26it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
n events: 1, n stations: 8, batch size (n events x n stations): 8
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Pred: 100%|██████████| 1/1 [00:00&lt;00:00,  6.22it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
n events: 1, n stations: 8, batch size (n events x n stations): 8
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Pred: 100%|██████████| 1/1 [00:00&lt;00:00,  6.21it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
n events: 1, n stations: 8, batch size (n events x n stations): 8
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Pred: 100%|██████████| 1/1 [00:00&lt;00:00,  5.69it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
n events: 1, n stations: 8, batch size (n events x n stations): 8
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Pred: 100%|██████████| 1/1 [00:00&lt;00:00,  6.34it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
n events: 1, n stations: 8, batch size (n events x n stations): 8
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Pred: 100%|██████████| 1/1 [00:00&lt;00:00,  6.31it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
n events: 1, n stations: 8, batch size (n events x n stations): 8
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Pred: 100%|██████████| 1/1 [00:00&lt;00:00,  6.05it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
n events: 1, n stations: 8, batch size (n events x n stations): 8
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Pred: 100%|██████████| 1/1 [00:00&lt;00:00,  5.49it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
n events: 1, n stations: 8, batch size (n events x n stations): 8
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Pred: 100%|██████████| 1/1 [00:00&lt;00:00,  5.79it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
n events: 1, n stations: 8, batch size (n events x n stations): 8
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Pred: 100%|██████████| 1/1 [00:00&lt;00:00,  5.88it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
n events: 1, n stations: 8, batch size (n events x n stations): 8
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Pred: 100%|██████████| 1/1 [00:00&lt;00:00,  6.28it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
n events: 1, n stations: 8, batch size (n events x n stations): 8
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Pred: 100%|██████████| 1/1 [00:00&lt;00:00,  6.26it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
n events: 1, n stations: 8, batch size (n events x n stations): 8
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Pred: 100%|██████████| 1/1 [00:00&lt;00:00,  6.00it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
n events: 1, n stations: 8, batch size (n events x n stations): 8
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Pred: 100%|██████████| 1/1 [00:00&lt;00:00,  6.43it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
n events: 1, n stations: 8, batch size (n events x n stations): 8
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Pred: 100%|██████████| 1/1 [00:00&lt;00:00,  5.80it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
n events: 1, n stations: 8, batch size (n events x n stations): 8
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Pred: 100%|██████████| 1/1 [00:00&lt;00:00,  6.12it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
n events: 1, n stations: 8, batch size (n events x n stations): 8
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Pred: 100%|██████████| 1/1 [00:00&lt;00:00,  6.43it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
n events: 1, n stations: 8, batch size (n events x n stations): 8
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Pred: 100%|██████████| 1/1 [00:00&lt;00:00,  6.23it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
n events: 1, n stations: 8, batch size (n events x n stations): 8
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Pred: 100%|██████████| 1/1 [00:00&lt;00:00,  6.25it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
n events: 1, n stations: 8, batch size (n events x n stations): 8
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Pred: 100%|██████████| 1/1 [00:00&lt;00:00,  6.64it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
n events: 1, n stations: 8, batch size (n events x n stations): 8
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Pred: 100%|██████████| 1/1 [00:00&lt;00:00,  6.24it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
n events: 1, n stations: 8, batch size (n events x n stations): 8
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Pred: 100%|██████████| 1/1 [00:00&lt;00:00,  5.54it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
n events: 1, n stations: 8, batch size (n events x n stations): 8
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Pred: 100%|██████████| 1/1 [00:00&lt;00:00,  6.15it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
n events: 1, n stations: 8, batch size (n events x n stations): 8
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Pred: 100%|██████████| 1/1 [00:00&lt;00:00,  5.20it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
n events: 1, n stations: 8, batch size (n events x n stations): 8
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Pred: 100%|██████████| 1/1 [00:00&lt;00:00,  5.25it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
n events: 1, n stations: 8, batch size (n events x n stations): 8
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Pred: 100%|██████████| 1/1 [00:00&lt;00:00,  6.24it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
n events: 1, n stations: 8, batch size (n events x n stations): 8
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Pred: 100%|██████████| 1/1 [00:00&lt;00:00,  5.60it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
n events: 1, n stations: 8, batch size (n events x n stations): 8
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Pred: 100%|██████████| 1/1 [00:00&lt;00:00,  6.29it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
n events: 1, n stations: 8, batch size (n events x n stations): 8
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Pred: 100%|██████████| 1/1 [00:00&lt;00:00,  5.49it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
n events: 1, n stations: 8, batch size (n events x n stations): 8
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Pred: 100%|██████████| 1/1 [00:00&lt;00:00,  6.16it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
n events: 1, n stations: 8, batch size (n events x n stations): 8
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Pred: 100%|██████████| 1/1 [00:00&lt;00:00,  5.17it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
n events: 1, n stations: 8, batch size (n events x n stations): 8
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Pred: 100%|██████████| 1/1 [00:00&lt;00:00,  5.81it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
n events: 1, n stations: 8, batch size (n events x n stations): 8
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Pred: 100%|██████████| 1/1 [00:00&lt;00:00,  5.66it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
n events: 1, n stations: 8, batch size (n events x n stations): 8
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Pred: 100%|██████████| 1/1 [00:00&lt;00:00,  5.98it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
n events: 1, n stations: 8, batch size (n events x n stations): 8
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Pred: 100%|██████████| 1/1 [00:00&lt;00:00,  5.65it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
n events: 1, n stations: 8, batch size (n events x n stations): 8
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Pred: 100%|██████████| 1/1 [00:00&lt;00:00,  5.89it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
n events: 1, n stations: 8, batch size (n events x n stations): 8
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Pred: 100%|██████████| 1/1 [00:00&lt;00:00,  5.62it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
n events: 1, n stations: 8, batch size (n events x n stations): 8
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Pred: 100%|██████████| 1/1 [00:00&lt;00:00,  5.47it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
n events: 1, n stations: 8, batch size (n events x n stations): 8
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Pred: 100%|██████████| 1/1 [00:00&lt;00:00,  5.27it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
n events: 1, n stations: 8, batch size (n events x n stations): 8
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Pred: 100%|██████████| 1/1 [00:00&lt;00:00,  5.63it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
n events: 1, n stations: 8, batch size (n events x n stations): 8
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Pred: 100%|██████████| 1/1 [00:00&lt;00:00,  6.58it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
n events: 1, n stations: 8, batch size (n events x n stations): 8
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Pred: 100%|██████████| 1/1 [00:00&lt;00:00,  5.24it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
n events: 1, n stations: 8, batch size (n events x n stations): 8
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Pred: 100%|██████████| 1/1 [00:00&lt;00:00,  5.37it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
n events: 1, n stations: 8, batch size (n events x n stations): 8
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Pred: 100%|██████████| 1/1 [00:00&lt;00:00,  5.85it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
n events: 1, n stations: 8, batch size (n events x n stations): 8
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Pred: 100%|██████████| 1/1 [00:00&lt;00:00,  6.23it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
n events: 1, n stations: 8, batch size (n events x n stations): 8
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Pred: 100%|██████████| 1/1 [00:00&lt;00:00,  5.79it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
n events: 1, n stations: 8, batch size (n events x n stations): 8
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Pred: 100%|██████████| 1/1 [00:00&lt;00:00,  5.76it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
n events: 1, n stations: 8, batch size (n events x n stations): 8
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Pred: 100%|██████████| 1/1 [00:00&lt;00:00,  5.53it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
n events: 1, n stations: 8, batch size (n events x n stations): 8
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Pred: 100%|██████████| 1/1 [00:00&lt;00:00,  6.08it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
n events: 1, n stations: 8, batch size (n events x n stations): 8
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Pred: 100%|██████████| 1/1 [00:00&lt;00:00,  5.45it/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
n events: 1, n stations: 8, batch size (n events x n stations): 8
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Pred: 100%|██████████| 1/1 [00:00&lt;00:00,  6.13it/s]
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[29]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">template_group</span><span class="o">.</span><span class="n">catalog</span><span class="o">.</span><span class="n">plot_map</span><span class="p">(</span><span class="n">lat_margin</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span> <span class="n">lon_margin</span><span class="o">=</span><span class="mf">0.02</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/tutorial_notebooks_8_build_earthquake_catalog_23_0.png" src="../../_images/tutorial_notebooks_8_build_earthquake_catalog_23_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">events</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">15</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/tutorial_notebooks_8_build_earthquake_catalog_24_0.png" src="../../_images/tutorial_notebooks_8_build_earthquake_catalog_24_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[26]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">template_group</span><span class="o">.</span><span class="n">catalog</span><span class="o">.</span><span class="n">longitude</span> <span class="o">-</span> <span class="n">template_group</span><span class="o">.</span><span class="n">catalog</span><span class="o">.</span><span class="n">catalog</span><span class="o">.</span><span class="n">longitude</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[26]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
event_id
0.0     0.0
0.1     0.0
0.2     0.0
3.3     0.0
0.3     0.0
4.3     0.0
4.4     0.0
2.4     0.0
1.6     0.0
1.7     0.0
1.8     0.0
4.7     0.0
2.7     0.0
2.8     0.0
4.9     0.0
0.10    0.0
1.12    0.0
2.9     0.0
4.11    0.0
2.11    0.0
2.12    0.0
4.13    0.0
0.14    0.0
1.15    0.0
6.8     0.0
3.12    0.0
2.14    0.0
4.17    0.0
4.18    0.0
2.17    0.0
2.18    0.0
2.19    0.0
4.20    0.0
2.21    0.0
3.13    0.0
1.20    0.0
4.22    0.0
1.22    0.0
2.24    0.0
6.13    0.0
2.25    0.0
2.26    0.0
2.27    0.0
1.25    0.0
2.28    0.0
5.0     0.0
6.14    0.0
2.29    0.0
2.30    0.0
2.31    0.0
7.0     0.0
1.27    0.0
2.32    0.0
1.28    0.0
Name: longitude, dtype: float64
</pre></div></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="7_template_matching.html" class="btn btn-neutral float-left" title="Template Matching" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../../updates.html" class="btn btn-neutral float-right" title="Updates" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Eric Beauce, William B. Frank.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>