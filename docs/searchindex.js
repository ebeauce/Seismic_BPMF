Search.setIndex({"docnames": ["index", "introduction", "tutorial", "tutorial/general", "tutorial/notebooks/0_initialize_project", "tutorial/notebooks/1_download_data", "tutorial/notebooks/2_preprocess_data", "tutorial/notebooks/3_network_file", "tutorial/notebooks/4_travel_times", "tutorial/notebooks/5_backprojection", "tutorial/notebooks/6_build_template_database", "updates", "usage", "usage/api"], "filenames": ["index.rst", "introduction.rst", "tutorial.rst", "tutorial/general.rst", "tutorial/notebooks/0_initialize_project.ipynb", "tutorial/notebooks/1_download_data.ipynb", "tutorial/notebooks/2_preprocess_data.ipynb", "tutorial/notebooks/3_network_file.ipynb", "tutorial/notebooks/4_travel_times.ipynb", "tutorial/notebooks/5_backprojection.ipynb", "tutorial/notebooks/6_build_template_database.ipynb", "updates.rst", "usage.rst", "usage/api.rst"], "titles": ["Welcome to BackProjection and Matched Filtering (BPMF)\u2019s documentation!", "Introduction", "Tutorial", "Pre-requisites", "Project Initialization", "Download Seismic Data", "Preprocess Seismic Data", "Make Network File", "Compute P-/S-wave travel Times", "Backprojection of the Seismic Wavefield", "Build Template Database", "Updates", "Usage", "API"], "terms": {"introduct": 0, "descript": 0, "instal": [0, 3], "usag": 0, "api": [0, 12], "tutori": [0, 4, 6, 7, 8], "pre": [0, 2, 6], "requisit": [0, 2], "project": [0, 2, 6, 8], "initi": [0, 2, 5, 6, 7, 8], "download": [0, 1, 2, 3, 6], "seismic": [0, 2, 3, 7, 8], "data": [0, 2, 4, 8, 10], "preprocess": [0, 2, 7], "make": [0, 1, 2, 3, 5, 8, 10], "network": [0, 2, 3, 4, 5, 6, 8, 9, 10], "file": [0, 2, 5, 6, 8, 9, 10], "comput": [0, 2, 3, 10], "p": [0, 2, 3, 9, 10], "wave": [0, 2, 3, 9, 10], "travel": [0, 2, 3, 4, 9], "time": [0, 2, 3, 4, 5, 6, 7, 9, 10], "wavefield": [0, 2], "build": [0, 2], "templat": [0, 2, 9], "databas": [0, 2], "updat": 0, "index": [0, 4, 7, 8, 9, 10], "modul": [0, 1, 9], "search": [0, 10], "page": 0, "fulli": 1, "autom": 1, "workflow": [1, 3, 4, 6, 7, 9, 10], "earthquak": [1, 2, 3, 8], "detect": [1, 2, 3, 4, 6, 7], "locat": [1, 3, 4, 5, 6, 7, 8, 9, 10], "backproject": [1, 2, 10], "match": [1, 2, 8, 9, 10], "filter": [1, 4, 5, 7, 10], "method": [1, 3, 9, 10], "bpmf": [1, 2, 3, 4, 5, 6, 8, 9, 10], "i": [1, 3, 4, 6, 7, 8, 9, 10], "avail": [1, 2, 5], "http": [1, 3, 8, 9], "github": [1, 3, 8, 9], "com": [1, 3, 8, 9], "ebeauc": [1, 3, 7, 8, 9, 10], "seismic_bpmf": [1, 8], "can": [1, 3, 4, 8, 9], "git": 1, "clone": 1, "you": [1, 3, 6, 8, 9, 10], "mai": [1, 3, 5, 9], "need": [1, 3, 5, 6, 7, 8, 9], "edit": 1, "makefil": 1, "accord": [1, 9], "your": [1, 4, 6, 9], "o": [1, 4, 5, 6, 7, 8, 9, 10], "instruct": [1, 3, 9], "": [1, 2, 3, 4, 5, 6, 9, 10], "comment": 1, "A": 1, "simpl": [1, 7], "whichev": 1, "implement": [1, 3, 9], "doe": [1, 9, 10], "trick": [1, 10], "possibl": [1, 10], "command": [1, 3], "ar": [1, 3, 4, 6, 7, 8, 9, 10], "python_cpu": 1, "python_gpu": 1, "python": [1, 3, 9], "via": 1, "which": [1, 4, 5, 7, 8, 9], "support": 1, "clean": 1, "uninstal": 1, "setup": 1, "py": [1, 10], "build_ext": 1, "simpli": 1, "run": [2, 5, 8], "refer": 2, "defin": [2, 6, 7, 8], "path": [2, 6, 7, 8, 9, 10], "variabl": 2, "creat": [2, 3, 5, 10], "folder": [2, 3, 6, 7], "tree": [2, 6, 7], "paramet": [2, 6, 8, 9, 10], "miscellean": 2, "write": [2, 7, 8, 9, 10], "csv": [2, 7, 8, 9, 10], "current": 2, "work": [2, 8, 9], "directori": [2, 9], "select": [2, 10], "cleanup": 2, "plot": [2, 7, 9], "raw": 2, "reader": 2, "read": [2, 4, 5, 9], "trace": [2, 5, 9, 10], "save": [2, 6, 8, 9], "metadata": [2, 4, 8, 10], "test": [2, 9], "new": [2, 3, 8], "dataset": [2, 8, 9, 10], "veloc": [2, 6, 9, 10], "model": [2, 9], "from": [2, 3, 5, 6, 7, 10], "karabulut": 2, "et": [2, 9], "al": [2, 9], "2011": 2, "3d": 2, "grid": [2, 9], "store": [2, 4, 6], "tabl": 2, "nlloc": [2, 4, 10], "field": 2, "given": [2, 6, 7, 9], "station": [2, 5, 6, 7, 9, 10], "load": 2, "waveform": [2, 6, 7, 10], "featur": [2, 3, 8], "beamform": 2, "instanc": [2, 5, 6, 7, 10], "phase": [2, 3, 8], "specif": [2, 6], "weight": 2, "sourc": [2, 8], "extract": 2, "event": [2, 4], "continu": [2, 5, 10], "reloc": [2, 10], "each": [2, 4, 7, 8], "remov": [2, 5], "redund": 2, "similar": 2, "non": [2, 9], "The": [3, 6, 7, 8, 9, 10], "goal": [3, 9], "thi": [3, 4, 5, 6, 7, 8, 9, 10], "learm": 3, "how": [3, 9, 10], "full": [3, 6, 8], "environ": [3, 4, 9, 10], "virtual": 3, "describ": 3, "here": [3, 7, 8, 9], "essenti": [3, 6, 7], "successfulli": [3, 5], "we": [3, 4, 5, 6, 7, 8, 9, 10], "us": [3, 4, 5, 6, 7, 8, 9, 10], "packag": [3, 8, 9, 10], "manag": 3, "anaconda": 3, "rather": [3, 9], "its": [3, 10], "ligther": 3, "version": [3, 9], "miniconda": 3, "follow": [3, 7, 9], "doc": 3, "conda": 3, "io": 3, "en": 3, "latest": 3, "html": 3, "onc": [3, 9], "first": [3, 4, 6, 8, 10], "sure": [3, 5, 8], "forg": 3, "when": [3, 4, 5, 6, 9, 10], "necessari": [3, 8, 9, 10], "config": [3, 4, 5, 6, 7, 8, 9, 10], "add": [3, 7, 8], "channel": [3, 5, 6, 7, 9], "3": [3, 4, 5, 6, 7, 8, 9, 10], "10": [3, 4, 5, 6, 7, 8, 9, 10], "name": [3, 4, 7, 8, 9], "bpmf_tuto": 3, "n": [3, 4, 7, 9], "now": [3, 5, 6, 9], "activ": 3, "In": [3, 4, 5, 6, 7, 8, 9, 10], "gener": 3, "local": [3, 9], "c": [3, 9], "cuda": [3, 9], "compil": [3, 7, 9], "gcc": 3, "nvidia": [3, 9], "nvcc": 3, "toolkit": 3, "almost": 3, "all": [3, 4, 5, 6, 8, 9, 10], "obspi": [3, 5, 6, 7, 9], "numpi": [3, 6, 7, 8, 9, 10], "scipi": [3, 8, 10], "panda": [3, 4, 7, 8, 9], "matplotlib": [3, 7, 8, 9, 10], "h5py": [3, 8, 9, 10], "ipython": 3, "jupyt": 3, "cartopi": [3, 8], "Then": [3, 6], "pykon": [3, 8], "malcolmw": [3, 8], "unpack": 3, "go": [3, 8], "root": [3, 4, 6], "pip": 3, "sever": [3, 9], "import": [3, 4, 5, 6, 7, 8, 9, 10], "reli": [3, 9], "deep": [3, 9], "neural": [3, 9], "picker": 3, "phasenet": [3, 9], "order": [3, 7, 8, 9], "have": [3, 7, 8, 9, 10], "e": [3, 4, 9, 10], "b": [3, 9], "modifi": [3, 9], "wrapper": [3, 9], "function": [3, 6, 8, 9], "within": [3, 4, 6, 10], "script": 3, "should": [3, 10], "tensorflow": [3, 9], "take": [3, 5, 8], "some": [3, 5, 6, 7, 9], "final": [3, 5], "our": [3, 8, 9, 10], "section": [3, 6], "document": [3, 8], "made": 3, "seri": [3, 9], "notebook": [3, 4, 5, 6, 7, 8, 9, 10], "meant": [3, 7], "0": [3, 4, 5, 6, 7, 8, 9, 10], "zhu": [3, 9], "weiqiang": 3, "gregori": 3, "beroza": 3, "base": [3, 6, 7, 9, 10], "arriv": [3, 9, 10], "pick": [3, 9], "geophys": 3, "journal": 3, "intern": 3, "216": [3, 5], "1": [3, 4, 5, 6, 7, 8, 9, 10], "2019": [3, 9], "261": 3, "273": 3, "where": [4, 6, 9], "input": [4, 8], "output": [4, 5, 6], "cfg": [4, 5, 6, 7, 8, 9, 10], "also": [4, 7, 9, 10], "number": [4, 7, 8, 9, 10], "other": [4, 5, 6, 9, 10], "later": [4, 6, 8, 9], "stage": [4, 6, 9], "pd": [4, 7, 8, 9], "2": [4, 5, 6, 7, 8, 9, 10], "nb": 4, "either": 4, "rel": [4, 9], "absolut": [4, 9], "input_path": [4, 5, 6, 7, 9], "bpmf_data": [4, 5, 6, 10], "output_path": [4, 8, 9, 10], "produc": 4, "bpmf_output": 4, "network_path": [4, 7], "moveouts_path": [4, 8, 9], "moveout": [4, 9], "nlloc_input_path": [4, 8], "join": [4, 5, 6, 7, 8, 9, 10], "nlloc_input": 4, "nlloc_output_path": 4, "nlloc_output": 4, "4": [4, 5, 6, 7, 8, 9, 10], "var": 4, "isdir": [4, 5, 6, 10], "makedir": [4, 5, 6], "5": [4, 5, 6, 7, 8, 9, 10], "sampling_rate_hz": [4, 6, 9], "target": [4, 6], "sampl": [4, 5, 6, 9, 10], "rate": [4, 9], "resampl": 4, "25": [4, 6, 8, 9, 10], "min_freq_hz": [4, 6, 7], "minimum": [4, 9], "frequenc": [4, 6], "hertz": 4, "bandpass": 4, "max_freq_hz": [4, 6, 7], "maximum": [4, 9, 10], "12": [4, 6, 7, 8, 9], "data_buffer_sec": [4, 5], "durat": [4, 9], "second": [4, 5, 6, 9], "buffer": 4, "start": [4, 6, 7, 9], "end": [4, 5, 6, 7, 8, 9], "dai": [4, 5, 6, 7, 9], "500": [4, 5, 8], "6": [4, 5, 6, 7, 8, 9, 10], "n_dev_bp_threshold": 4, "deviat": 4, "g": [4, 9], "rm": 4, "mad": 4, "abov": [4, 8, 9], "central": [4, 9], "tendenc": 4, "mean": [4, 9, 10], "median": 4, "threshold": [4, 9, 10], "15": [4, 5, 7, 8, 9, 10], "7": [4, 5, 6, 7, 8, 9, 10], "template_len_sec": [4, 9, 10], "length": 4, "8": [4, 5, 6, 7, 8, 9, 10], "matched_filter_step_samp": 4, "step": [4, 6, 10], "size": [4, 8, 9], "between": [4, 7, 9, 10], "two": [4, 7, 10], "correl": [4, 10], "coeffici": [4, 10], "measur": [4, 7], "n_dev_mf_threshold": 4, "nlloc_basenam": [4, 8], "basenam": [4, 5, 7, 8], "naf": 4, "buffer_extracted_events_sec": 4, "taken": [4, 9], "befor": [4, 5, 9], "origin": [4, 8], "an": [4, 7, 8, 9, 10], "20": [4, 5, 6, 8, 9], "9": [4, 5, 6, 7, 8, 9, 10], "convert": [4, 6, 8, 9], "dictionari": [4, 8, 9], "datafram": [4, 7], "pretti": 4, "print": [4, 5, 6, 7, 8, 9, 10], "config_pd": 4, "column": [4, 7, 8], "parameter_valu": 4, "parameter_nam": 4, "kei": [4, 8, 10], "loc": [4, 7, 8, 9, 10], "11": [4, 5, 6, 7, 8, 9, 10], "open": [4, 7, 8, 9, 10], "bpmf_paramet": 4, "w": [4, 8, 9], "fparam": 4, "f": [4, 5, 6, 7, 8, 9, 10], "public": 5, "center": [5, 8], "glob": [5, 6, 7, 10], "ob": [5, 6, 7], "datetim": [5, 6], "timedelta": [5, 6], "client": 5, "fdsn": 5, "mass_download": 5, "date": [5, 6, 7, 9], "utcdatetim": [5, 6, 9], "2012": [5, 6, 7, 9, 10], "07": [5, 6, 7, 9], "rootdirpath_data": 5, "dirpath_data": [5, 6], "str": [5, 6, 7, 9, 10], "year": [5, 6, 7, 9], "strftime": [5, 6, 7, 9], "y": [5, 6, 7, 9], "m": [5, 6, 7, 8, 9], "d": [5, 6, 7, 9], "dirpath_raw_waveform": 5, "dirpath_resp_fil": 5, "resp": [5, 6, 7], "repositori": 5, "domain": 5, "restrict": [5, 9], "identifi": 5, "request": 5, "geograph": [5, 8, 9], "rectangulardomain": 5, "minlatitud": 5, "40": [5, 6, 7, 8, 9], "60": [5, 8, 9], "maxlatitud": 5, "76": 5, "minlongitud": 5, "30": [5, 6, 7, 8, 9], "maxlongitud": 5, "44": [5, 6, 8], "starttim": [5, 6], "endtim": [5, 6], "yh": [5, 6, 7, 9], "bh": 5, "hh": 5, "sauv": [5, 6, 7, 8, 9, 10], "spnc": [5, 6, 7, 8, 9], "dc08": [5, 6, 7, 8, 9], "dc07": [5, 6, 7, 8, 9], "dc06": [5, 6, 7, 8, 9], "dd06": [5, 6, 7, 8, 9], "de07": [5, 6, 7, 8, 9], "de08": [5, 6, 7, 8, 9], "reject_channels_with_gap": 5, "fals": [5, 6, 10], "minimum_length": 5, "minimum_interstation_distance_in_m": 5, "channel_prior": 5, "zne": 5, "massdownload": 5, "provid": 5, "iri": 5, "2022": [5, 9], "09": [5, 6, 9], "21": [5, 8, 9], "01": [5, 8], "27": [5, 8, 9], "518": 5, "info": [5, 10], "28": [5, 8, 9], "051": 5, "don": [5, 6, 9], "t": [5, 6, 7, 8, 9, 10], "hesit": [5, 9], "cell": [5, 8, 9, 10], "mani": [5, 9, 10], "were": [5, 6], "fail": [5, 7, 8, 9, 10], "due": [5, 9], "busi": 5, "mseed_storag": 5, "stationxml_storag": 5, "threads_per_cli": 5, "total": [5, 10], "acquir": 5, "preexist": 5, "217": 5, "39": [5, 7, 8, 9, 10], "reliabl": 5, "606": 5, "609": 5, "found": [5, 9], "24": [5, 6, 8, 9, 10], "611": 5, "Will": 5, "attempt": 5, "617": 5, "statu": 5, "interv": 5, "needs_download": 5, "510": 5, "525": 5, "43": [5, 8], "379": 5, "45": [5, 8], "017": 5, "53": [5, 8], "964": 5, "54": 5, "003": 5, "325": 5, "57": 5, "254": 5, "02": [5, 10], "300": 5, "05": [5, 8, 9], "636": 5, "638": 5, "launch": 5, "basic": 5, "qc": 5, "check": [5, 7, 9, 10], "844": 5, "233": 5, "mb": 5, "6458": 5, "41": [5, 8], "kb": 5, "sec": [5, 9, 10], "discard": 5, "afterward": 5, "845": 5, "after": [5, 9], "892": 5, "No": [5, 9, 11], "inform": [5, 7, 9], "893": 5, "report": 5, "minise": 5, "alreadi": [5, 6, 9, 10], "exist": [5, 8, 9], "894": 5, "stationxml": 5, "895": 5, "896": 5, "lt": [5, 6, 9, 10], "download_help": 5, "clientdownloadhelp": 5, "0x7faf98777c40": 5, "gt": 5, "dirpath_waveform": 5, "20120707": [5, 6], "bhn__20120706t235140z__20120708t000820z": 5, "mseed": [5, 6, 7], "bhe__20120706t235140z__20120708t000820z": 5, "bhz__20120706t235140z__20120708t000820z": 5, "hhz__20120706t235140z__20120708t000820z": 5, "hhe__20120706t235140z__20120708t000820z": 5, "hhn__20120706t235140z__20120708t000820z": 5, "even": [5, 7, 8], "though": [5, 7, 8], "handl": 5, "prioriti": 5, "compon": [5, 7, 9, 10], "might": 5, "up": [5, 9], "being": 5, "multipl": [5, 9], "becaus": [5, 8, 9], "see": [5, 8, 9], "previou": [5, 6, 10], "To": [5, 9, 10], "avoid": [5, 9, 10], "duplic": 5, "interest": [5, 6, 7], "keep": [5, 7, 8, 9, 10], "memori": [5, 6], "footprint": [5, 6], "low": [5, 9, 10], "fnmatch": [5, 7], "fnfilter": 5, "onli": [5, 7, 9, 10], "data_list": 5, "station_list": 5, "xml": [5, 6, 7], "sta": 5, "sta_id": [5, 7], "_": [5, 6, 7, 9], "splitext": 5, "bh_channel": 5, "__": [5, 9], "fname": [5, 6, 7], "cha_info": 5, "len": [5, 7, 8, 9, 10], "isfil": 5, "replac": 5, "well": [5, 10], "get": [5, 8, 9], "rid": 5, "stream": [5, 6, 9], "bhn": [5, 6, 9], "06t23": [5, 6], "51": [5, 6], "000000z": [5, 6, 9], "08t00": [5, 6, 9], "08": [5, 6, 8], "50": [5, 6, 8, 10], "hz": [5, 6, 9], "4370001": [5, 6], "bhe": [5, 6, 9], "34": [5, 6, 8, 9], "__str__": [5, 6, 9], "extend": [5, 6, 7, 9, 10], "true": [5, 6, 9, 10], "inlinebackend": [5, 6, 7, 8, 9, 10], "figure_format": [5, 6, 7, 8, 9, 10], "svg": [5, 6, 7, 8, 9, 10], "fig": [5, 6, 8, 9, 10], "equal_scal": [5, 6], "process": [6, 9, 10], "1_download_data": 6, "ipynb": 6, "success": 6, "applic": 6, "np": [6, 7, 8, 9, 10], "tqdm": [6, 8, 10], "allow": [6, 9, 10], "ani": [6, 8, 10], "format": [6, 8, 9], "price": 6, "flexibl": [6, 8], "return": [6, 9], "def": [6, 8], "data_reader_mse": [6, 9, 10], "none": [6, 9], "attach_respons": 6, "data_fold": [6, 7, 9, 10], "kwarg": 6, "design": 6, "convent": [6, 7, 8], "same": [6, 9, 10], "string": 6, "list": [6, 7, 9], "option": [6, 9], "code": [6, 7, 8, 9], "boolean": [6, 9], "If": [6, 9], "find": [6, 7, 8], "instrument": 6, "respons": 6, "attach": [6, 9, 10], "child": 6, "contain": [6, 7], "data_fil": 6, "resp_fil": 6, "inv": 6, "map": [6, 7, 8], "read_inventori": [6, 7], "raw_trac": 6, "stat": 6, "bhz": [6, 9], "07t06": 6, "32": [6, 8, 9], "06": [6, 8], "980000z": 6, "1201350": 6, "47": [6, 9], "13": [6, 7, 8, 9, 10], "9200": 6, "19": [6, 8, 9, 10], "3123051": 6, "07t00": [6, 9], "00": [6, 8, 9, 10], "1176450": 6, "hhz": [6, 9], "100": [6, 8, 9, 10], "8740001": 6, "hhe": [6, 9], "1201450": 6, "hhn": [6, 9], "meter": [6, 8], "per": 6, "count": [6, 7], "digit": 6, "overal": 6, "sensit": 6, "50417e": 6, "000": 6, "poleszerosresponsestag": 6, "v": [6, 8], "gain": 6, "2404": 6, "coefficientstyperesponsestag": 6, "04167e": 6, "firresponsestag": 6, "call": [6, 9, 10], "merg": 6, "group": [6, 9, 10], "differ": [6, 8, 9, 10], "segment": 6, "singl": [6, 7, 9], "4345001": 6, "mask": 6, "22": [6, 8, 9], "util": [6, 8, 9], "preprocess_stream": 6, "below": [6, 8], "do": [6, 9], "correct": 6, "mostli": [6, 10], "flat": 6, "band": 6, "howev": [6, 9], "so": [6, 7, 8, 9], "amplitud": 6, "physic": 6, "unit": 6, "freqmin": 6, "freqmax": 6, "target_sr": 6, "target_starttim": 6, "target_endtim": 6, "remove_respons": 6, "remove_sensit": 6, "preprocessed_trac": 6, "07t23": 6, "59": 6, "960000z": 6, "2160000": [6, 9], "preproc_folder_nam": [6, 7], "preprocessed_": [6, 7], "0f": [6, 7, 8], "preprocessed_2_12": [6, 9, 10], "tr": 6, "desc": [6, 8], "id": [6, 7, 9, 10], "encod": 6, "float64": 6, "tip": 6, "most": [6, 8], "like": 6, "precis": 6, "try": 6, "float32": [6, 8, 9], "reduc": [6, 9], "set": [6, 7, 9, 10], "98it": 6, "recurr": 7, "through": 7, "scan": 7, "whole": [7, 9], "daili": 7, "estim": [7, 9], "capabl": 7, "sy": [7, 8, 9, 10], "pyplot": [7, 8, 9, 10], "plt": [7, 8, 9, 10], "ticker": 7, "fixedloc": 7, "formatstrformatt": 7, "network_filenam": [7, 8, 9, 10], "availability_filenam": 7, "start_dat": 7, "end_dat": 7, "experi": 7, "datelist": [7, 9], "date_rang": 7, "datetimeindex": [7, 9], "dtype": [7, 8, 9, 10], "datetime64": [7, 9], "freq": [7, 9], "frame": 7, "daily_avail": 7, "network_metadata": 7, "network_cod": 7, "station_cod": [7, 8], "longitud": [7, 8, 9], "latitud": [7, 8, 9], "elevation_m": [7, 8, 9], "analyz": [7, 9], "written": [7, 9], "row_nam": 7, "resp_fold": 7, "data_filenam": 7, "daily_network_metadata": 7, "filenam": 7, "entir": 7, "net_cod": 7, "sta_cod": 7, "loc_cod": 7, "cha_cod": 7, "ext": 7, "split": 7, "associ": 7, "station_inv": 7, "elev": 7, "concat": 7, "drop_dupl": 7, "3272": 7, "7402": 7, "170": [7, 9], "411539": [7, 9], "679661": [7, 9], "24217": 7, "66708": 7, "164": [7, 9], "31777": 7, "623539": [7, 9], "182": [7, 9], "3083": 7, "686001": [7, 9], "190": [7, 9], "406469": [7, 9], "748562": [7, 9], "31": [7, 8, 9], "25013": 7, "744438": [7, 9], "162": [7, 9], "265751": [7, 9], "616718": [7, 9], "555": [7, 9], "station_id": [7, 9], "to_csv": 7, "sep": 7, "header": 7, "line": [7, 9], "r": [7, 8, 10], "fnet": 7, "content": 7, "move": 7, "pointer": 7, "begin": 7, "seek": 7, "append": [7, 10], "note": [7, 9], "broadcast": 7, "ndarrai": [7, 9], "one": [7, 9], "fill": 7, "miss": 7, "zero": [7, 8, 9], "consist": [7, 10], "dimens": [7, 9], "across": 7, "te": 7, "tz": 7, "net": [7, 8, 9, 10], "object": [7, 9], "inter": [7, 9, 10], "distanc": [7, 8, 9], "km": [7, 8, 9, 10], "interstation_dist": 7, "error": [7, 8, 9, 10], "proj": [7, 8, 10], "proj_create_from_databas": [7, 8, 10], "home": [7, 8, 10], "miniconda3": [7, 8, 10], "env": [7, 8, 10], "hy7_py310": [7, 8, 10], "share": [7, 8, 9, 10], "000000": 7, "790711": 7, "842688": 7, "979910": 7, "228594": 7, "748812": 7, "525864": 7, "14": [7, 8, 9], "676627": 7, "803980": 7, "392302": 7, "093446": 7, "764449": 7, "662741": 7, "423741": 7, "192278": 7, "843241": 7, "383684": 7, "017919": 7, "974924": 7, "16": [7, 8, 9], "568395": 7, "616650": 7, "970460": 7, "978986": 7, "079368": 7, "015674": 7, "982891": 7, "774078": 7, "591825": 7, "507919": 7, "225382": 7, "747317": 7, "970570": 7, "981746": 7, "812369": 7, "138928": 7, "515170": 7, "769376": 7, "663916": 7, "576421": 7, "783648": 7, "827065": 7, "216772": 7, "18": [7, 8, 9], "878441": 7, "527089": 7, "415829": 7, "616882": 7, "593195": 7, "142368": 7, "206857": 7, "258154": 7, "650371": 7, "155945": 7, "904608": 7, "424402": 7, "472197": 7, "850665": 7, "230564": 7, "plot_map": 7, "show": [7, 9], "potenti": [8, 9], "everi": [8, 9], "pleas": 8, "acknowledg": 8, "white": 8, "2020": 8, "h5": [8, 9, 10], "nlloc_util": 8, "interpol": 8, "interp1d": 8, "linearndinterpol": 8, "assum": 8, "filepath_vel_model": 8, "pardir": 8, "velocity_model_karabulut2011": 8, "Not": 8, "purpos": 8, "1d": [8, 9], "layer": 8, "depth": [8, 9], "give": [8, 9], "top": 8, "posit": 8, "downward": 8, "velocity_model": 8, "read_csv": 8, "usecol": 8, "skiprow": 8, "17": [8, 9], "2000": 8, "1000": 8, "3000": 8, "4000": 8, "5000": 8, "6000": 8, "8000": 8, "10000": 8, "12000": 8, "14000": 8, "15000": 8, "20000": 8, "22000": 8, "25000": 8, "32000": 8, "77000": 8, "2900": 8, "5600": 8, "5700": 8, "5800": 8, "5900": 8, "5950": 8, "6050": 8, "6100": 8, "6150": 8, "6200": 8, "6250": 8, "6300": 8, "6400": 8, "6500": 8, "6700": 8, "8045": 8, "1670": 8, "1900": 8, "3150": 8, "3210": 8, "3260": 8, "3410": 8, "3420": 8, "3440": 8, "3480": 8, "3560": 8, "3590": 8, "3610": 8, "3630": 8, "3660": 8, "3780": 8, "3850": 8, "4650": 8, "therefor": [8, 9, 10], "spatial": 8, "constant": 8, "degre": 8, "radian": 8, "deg_to_rad": 8, "pi": 8, "180": 8, "extent": 8, "lon_min_deg": 8, "lon_max_deg": 8, "lat_min_deg": 8, "lat_max_deg": 8, "75": [8, 10], "dep_min_km": 8, "dep_max_km": 8, "space": 8, "d_lon_deg": 8, "d_lat_deg": 8, "d_lon_rad": 8, "d_lat_rad": 8, "d_dep_km": 8, "spheric": 8, "coordin": [8, 9], "radial": 8, "kilomet": 8, "expand": 8, "onto": 8, "point": [8, 9], "preserv": 8, "structur": 8, "row": 8, "discontinu": 8, "just": 8, "new_depth": 8, "00001": 8, "new_vp": 8, "interpolator_p": 8, "hstack": 8, "new_v": 8, "interpolator_": 8, "system": 8, "specifi": 8, "theta": 8, "varphi": 8, "earth": 8, "decreas": 8, "polar": 8, "angl": 8, "co": 8, "equival": 8, "azimuth": [8, 9], "thu": [8, 9, 10], "must": 8, "built": [8, 10], "increas": 8, "axi": [8, 9, 10], "user": 8, "includ": [8, 9], "arang": [8, 10], "vector": 8, "direct": [8, 10], "n_longitud": 8, "n_latitud": 8, "n_depth": 8, "23": [8, 9], "26": [8, 9], "29": [8, 9], "33": 8, "35": [8, 9], "36": 8, "37": [8, 9], "38": [8, 9], "42": 8, "74": 8, "73": 8, "72": 8, "71": 8, "69": 8, "68": 8, "67": 8, "66": 8, "65": 8, "64": [8, 9], "63": 8, "62": 8, "61": 8, "previous": [8, 9], "vp_grid": 8, "vs_grid": 8, "rang": [8, 9], "depths_g": 8, "latitudes_g": 8, "longitudes_g": 8, "meshgrid": 8, "ij": 8, "vp": 8, "readi": [8, 9, 10], "piec": [8, 9], "easili": 8, "adapt": 8, "2d": 8, "mind": 8, "case": 8, "re": [8, 9], "satisfi": 8, "tt_filenam": [8, 9], "tt": [8, 9, 10], "lowest": 8, "phi": 8, "r_min": 8, "theta_min": 8, "phi_min": 8, "transform": 8, "geo2sph": 8, "max": [8, 9, 10], "min": [8, 9], "radiu": 8, "2f": [8, 9, 10], "rad": 8, "6341": 8, "86": 8, "tt_p": 8, "tt_": 8, "network_sta": 8, "enumer": [8, 10], "arrai": [8, 9], "shape": [8, 9], "eikon": 8, "equat": 8, "solver": 8, "pointsourcesolv": 8, "coord_si": 8, "exactli": 8, "min_coord": 8, "node_interv": 8, "npt": 8, "valu": [8, 9, 10], "source_latitud": 8, "source_longitud": 8, "source_depth": 8, "r_sourc": 8, "theta_sourc": 8, "lbd_sourc": 8, "src_loc": 8, "solv": [8, 9], "source_coordin": 8, "src_coord": 8, "sph2geo": 8, "node": 8, "8it": 8, "hdf5": [8, 9], "mode": [8, 10], "key1": 8, "create_group": 8, "key2": 8, "create_dataset": 8, "compress": 8, "gzip": 8, "adequ": 8, "tts_nlloc": 8, "load_pykonal_tt": 8, "write_nlloc_input": 8, "000km": 8, "010deg": 8, "500km": 8, "done": [8, 9], "ctp": 8, "mpl_toolkit": 8, "axes_grid1": 8, "make_axes_locat": 8, "inset_loc": 8, "inset_ax": 8, "color": [8, 9, 10], "normal": [8, 9, 10], "cm": 8, "scalarmapp": 8, "interpn": 8, "inset": 8, "lat_min_inset": 8, "lat_max_inset": 8, "lon_min_inset": 8, "lon_max_inset": 8, "data_coord": 8, "cr": 8, "platecarre": 8, "mercat": 8, "central_longitud": 8, "min_latitud": 8, "max_latitud": 8, "projection_inset": 8, "source_coord": [8, 9], "shape_3d": 8, "figur": [8, 9, 10], "map_stations_grid": 8, "figsiz": [8, 9, 10], "ax": [8, 9, 10], "add_subplot": [8, 9, 10], "111": [8, 9, 10], "set_rasterization_zord": 8, "set_ext": 8, "plotting_util": 8, "initialize_map": 8, "map_axi": 8, "seismic_st": 8, "add_scale_bar": 8, "axin": 8, "width": 8, "height": 8, "lower": [8, 9], "right": [8, 9], "axes_class": 8, "mpl": 8, "geoax": 8, "axes_kwarg": 8, "dict": 8, "map_project": 8, "study_region": 8, "geometri": 8, "box": 8, "minx": 8, "lon_min": 8, "maxx": 8, "lon_max": 8, "mini": 8, "lat_min": 8, "maxi": 8, "lat_max": 8, "add_geometri": 8, "edgecolor": 8, "k": [8, 9, 10], "facecolor": 8, "c0": [8, 9], "marker": 8, "markers": 8, "markeredgecolor": 8, "text": [8, 9, 10], "studi": [8, 9], "region": [8, 9], "add_featur": 8, "border": 8, "land": 8, "ocean": 8, "gshhsfeatur": 8, "scale": 8, "level": 8, "zorder": 8, "49": 8, "side": 8, "slice": 8, "divid": 8, "cs_lon": 8, "append_ax": 8, "bottom": 8, "pad": 8, "cs_lat": 8, "cax": 8, "cut_through": 8, "inferno": 8, "lon_sta": 8, "lat_sta": 8, "elv_sta": 8, "uniqu": 8, "scatter": 8, "c3": 8, "closest": [8, 9], "idx_lon": 8, "ab": [8, 10], "argmin": 8, "idx_lat": 8, "clear": 8, "longitudin": 8, "slice_lon": 8, "index_exp": 8, "new_coords_slice_lon": 8, "stack": [8, 9], "flatten": 8, "ones": [8, 9], "fast": 8, "veri": [8, 9, 10], "strictli": 8, "wherea": 8, "correspond": 8, "colatitud": 8, "tt_p_slice_lon": 8, "reshap": 8, "latitudin": 8, "slice_lat": 8, "new_coords_slice_lat": 8, "tt_p_slice_lat": 8, "cnorm": 8, "vmin": 8, "vmax": 8, "scalar_map": 8, "norm": [8, 10], "cmap": 8, "pcolormesh": 8, "contour": 8, "grei": 8, "label": [8, 9], "invert_yaxi": 8, "yaxi": 8, "set_label_posit": 8, "tick_right": 8, "set_ylabel": [8, 9, 10], "set_xlabel": [8, 9, 10], "u00b0": 8, "symbol": 8, "set_xlim": 8, "set_ylim": [8, 9], "colorbar": 8, "orient": 8, "horizont": [8, 9], "xaxi": 8, "tick_top": 8, "power": 9, "optim": 9, "than": [9, 10], "themselv": 9, "effici": 9, "core": 9, "routin": 9, "beampow": 9, "bp": 9, "tf": 9, "data_reader_exampl": [9, 10], "pn": 9, "udt": 9, "give_tim": [9, 10], "choos": 9, "thread": 9, "want": [9, 10], "limit": 9, "n_cpu": [9, 10], "omp_num_thread": [9, 10], "spawn": 9, "tf_num_intraop_thread": 9, "tf_num_interop_thread": 9, "set_inter_op_parallelism_thread": 9, "set_intra_op_parallelism_thread": 9, "set_soft_device_plac": 9, "381500": 9, "stream_executor": 9, "platform": 9, "default": 9, "dso_load": 9, "cc": [9, 10], "could": 9, "dynam": 9, "librari": 9, "libcudart": 9, "dlerror": 9, "cannot": 9, "ld_library_path": 9, "usr": 9, "lib64": 9, "381546": 9, "cudart_stub": 9, "ignor": 9, "cudart": 9, "gpu": 9, "machin": 9, "program": [9, 10], "devic": 9, "cpu": 9, "depend": [9, 10], "whether": 9, "n_max_stat": 9, "irrelev": 9, "exampl": 9, "larg": 9, "output_db_filenam": 9, "output_bp_tuto": [9, 10], "depth_km": 9, "327200": 9, "740200": 9, "040": 9, "242170": 9, "667080": 9, "317770": 9, "308300": 9, "031": 9, "250130": 9, "load_travel_tim": 9, "source_index": 9, "return_coord": 9, "earliest": 9, "long": 9, "prevent": 9, "neglibil": 9, "chunk": 9, "For": 9, "30min": 9, "won": 9, "abl": 9, "less": 9, "get_moveout_arrai": 9, "keepdim": 9, "sec_to_samp": 9, "round": 9, "x": 9, "9999": 9, "naiv": 9, "cast": 9, "integ": 9, "type": 9, "would": [9, 10], "instead": 9, "sr": 9, "loop": 9, "over": 9, "date_list": 9, "utc": 9, "timestamp": 9, "date_str": 9, "data_root_fold": 9, "t_start_dai": 9, "3600": 9, "sampling_r": 9, "db_path": [9, 10], "read_waveform": [9, 10], "data_arr": 9, "get_np_arrai": 9, "2160001": 9, "waveform_featur": 9, "n_station": [9, 10], "n_channel": 9, "n_time": 9, "demonstr": 9, "detector": 9, "turn": 9, "access": 9, "pn_proba": 9, "probabl": 9, "automatic_pick": 9, "newaxi": 9, "mini_batch_s": 9, "ram": 9, "inter_op_parallelism_thread": 9, "intra_op_parallelism_thread": 9, "swapax": 9, "squeez": 9, "batch": 9, "016954": 9, "libcuda": 9, "016998": 9, "cuda_driv": 9, "269": 9, "cuinit": 9, "unknown": 9, "303": 9, "017032": 9, "cuda_diagnost": 9, "156": 9, "kernel": 9, "driver": 9, "appear": 9, "host": 9, "hypo": 9, "proc": 9, "017345": 9, "cpu_feature_guard": 9, "193": 9, "binari": 9, "oneapi": 9, "onednn": 9, "perform": 9, "critic": 9, "oper": [9, 10], "avx2": 9, "fma": 9, "enabl": 9, "them": [9, 10], "rebuild": 9, "appropri": 9, "flag": 9, "728162": 9, "mlir": 9, "mlir_graph_optimization_pass": 9, "354": 9, "v1": 9, "pass": 9, "pred": 9, "idx1": 9, "int": 9, "idx2": 9, "axb": 9, "twinx": 9, "legend": 9, "class": [9, 10], "offer": [9, 10], "bf": 9, "template_search": 9, "set_moveout": 9, "lon": 9, "lat": 9, "set_source_coordin": 9, "recal": 9, "definit": 9, "beam": 9, "b_k": 9, "sum_": 9, "f_": 9, "tau_": 9, "quantiti": 9, "sai": 9, "vertic": 9, "alpha_": 9, "w_": 9, "quad": 9, "weights_phas": 9, "networkrespons": 9, "set_weight": 9, "cover": 9, "relev": 9, "small": 9, "occur": 9, "unlik": 9, "record": 9, "beta_": 9, "receiv": 9, "downweight": 9, "beyond": 9, "set_weights_sourc": 9, "underset": 9, "lbrace": 9, "rbrace": 9, "plot_maxbeam": 9, "set_facecolor": 9, "artist": 9, "put": 9, "whose": 9, "underscor": 9, "argument": 9, "somewhat": 9, "arbitrari": [9, 10], "task": 9, "expect": 9, "sum": [9, 10], "nearli": 9, "distribut": 9, "theorem": 9, "often": 9, "far": 9, "gaussian": 9, "valid": 9, "approach": 9, "wa": [9, 10], "deriv": 9, "pure": 9, "empir": 9, "trial": 9, "qualiti": [9, 10], "As": 9, "choic": 9, "quit": [9, 10], "conserv": 9, "plai": 9, "declar": 9, "dure": 9, "aim": 9, "close": 9, "sequenc": 9, "sole": 9, "minut": 9, "minimum_interevent_time_sec": 9, "detection_threshold": 9, "maxbeam": 9, "peak_index": 9, "find_detect": 9, "phase_on_comp": 9, "z": 9, "offset_phas": 9, "offset": 9, "window": 9, "predict": 9, "time_shift": 9, "t1": [9, 10], "t2": [9, 10], "76sec": 9, "red": 9, "plot_detect": 9, "alwai": 9, "accur": 9, "particular": 9, "downsampl": 9, "acceler": 9, "problem": [9, 10], "th": 9, "duration_sec": 9, "origin_tim": 9, "threshold_p": 9, "best": 9, "afford": 9, "sinc": 9, "know": 9, "confid": 9, "threshold_": 9, "astyp": 9, "u": 9, "pick_ps_phas": 9, "30it": 9, "48it": 9, "57it": 9, "56it": 9, "89it": 9, "68it": 9, "92it": 9, "63it": 9, "58it": 9, "36it": 9, "82it": 9, "60it": 9, "data_arr_det": 9, "phasenet_proba": 9, "phasenet_pick": 9, "ss": 9, "tolist": [9, 10], "short": 9, "without": 9, "1st": 9, "dash": 9, "good": [9, 10], "benefit": 9, "uncertainti": 9, "hmax_unc": [9, 10], "az_hmax_unc": 9, "1f": 9, "deg": 9, "vmax_unc": [9, 10], "43km": 9, "93": 9, "2deg": 9, "93km": 9, "By": 9, "separ": [9, 10], "gid": [9, 10], "too": 10, "useless": 10, "copi": 10, "multiprocess": 10, "cpu_count": 10, "db_filenam": 10, "db_path_t": 10, "template_db": 10, "tid": 10, "read_from_fil": 10, "nlloc_reloc": 10, "aux_data": 10, "set_moveouts_to_theoretical_tim": 10, "data_read": 10, "init_from_ev": 10, "set_aux_data": 10, "81it": 10, "templategroup": 10, "template_group": 10, "awar": 10, "_update_attribut": 10, "never": 10, "control": 10, "matrix": 10, "distance_threshold_km": 10, "criterion": 10, "ellipsoid": 10, "n_closest_st": 10, "larger": 10, "max_lag_samp": 10, "shift": 10, "compute_intertemplate_cc": 10, "averag": 10, "account": 10, "align": 10, "distance_threshold": 10, "save_cc": 10, "max_lag": 10, "compute_from_scratch": 10, "intertp_cc": 10, "lib": 10, "python3": 10, "site": 10, "2832": 10, "runtimewarn": 10, "invalid": 10, "encount": 10, "true_divid": 10, "unit_direct": 10, "sqrt": 10, "11sec": 10, "consid": 10, "realli": 10, "much": 10, "spend": 10, "still": 10, "common": 10, "similarity_threshold": 10, "templates_filt": 10, "tids_process": 10, "tindex": 10, "intertemplate_cc": 10, "n_similar": 10, "similar_tid": 10, "best_tid": 10, "best_unc": 10, "10000000": 10, "tid_sim": 10, "tt_sim": 10, "unc": 10, "elif": 10, "least": 10, "itself": 10, "els": 10, "int64index": 10, "int64": 10, "cov_mat": 10, "attribut": 10, "togeth": 10, "let": 10, "suptitl": 10, "98": 10, "signal": 10, "hilbert": 10, "waveforms_similar_templ": 10, "tp": 10, "wav": 10, "std": 10, "envelop": 10, "argmax": 10, "lw": 10, "dimgrei": 10, "au": 10, "output_dir": 10, "mkdir": 10, "full_path": 10, "overwrit": 10, "yet": 11}, "objects": {"": [[13, 0, 0, "-", "BPMF"]]}, "objtypes": {"0": "py:module"}, "objnames": {"0": ["py", "module", "Python module"]}, "titleterms": {"welcom": 0, "backproject": [0, 4, 8, 9], "match": [0, 4], "filter": 0, "bpmf": [0, 7], "": [0, 8], "document": 0, "content": [0, 2, 12], "indic": 0, "tabl": [0, 8], "introduct": 1, "descript": 1, "instal": 1, "from": [1, 8, 9], "sourc": [1, 9], "us": 1, "pip": 1, "recommend": 1, "tutori": [2, 3], "pre": 3, "requisit": 3, "run": [3, 9], "refer": 3, "project": 4, "initi": [4, 9], "defin": [4, 5, 9], "path": [4, 5], "variabl": 4, "creat": 4, "folder": 4, "tree": 4, "preprocess": [4, 6], "paramet": 4, "templat": [4, 10], "miscellean": 4, "write": [4, 6], "csv": 4, "file": [4, 7], "current": 4, "work": 4, "directori": 4, "download": 5, "seismic": [5, 6, 9], "data": [5, 6, 7, 9], "select": 5, "cleanup": 5, "plot": [5, 6, 8, 10], "raw": [5, 6], "build": [6, 8, 10], "reader": 6, "read": [6, 7, 8, 10], "trace": 6, "make": 7, "network": 7, "save": [7, 10], "metadata": [7, 9], "avail": 7, "test": 7, "new": 7, "dataset": 7, "comput": [8, 9], "p": 8, "wave": 8, "travel": 8, "time": 8, "veloc": 8, "model": 8, "karabulut": 8, "et": 8, "al": 8, "2011": 8, "3d": 8, "grid": 8, "store": [8, 9], "nlloc": [8, 9], "field": 8, "given": 8, "station": 8, "wavefield": 9, "load": 9, "waveform": 9, "featur": 9, "beamform": 9, "instanc": 9, "phase": 9, "specif": 9, "weight": 9, "earthquak": 9, "detect": [9, 10], "extract": 9, "event": [9, 10], "continu": 9, "reloc": 9, "each": 9, "databas": [9, 10], "remov": 10, "redund": 10, "similar": 10, "non": 10, "updat": 11, "usag": 12, "api": 13}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 6, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "nbsphinx": 4, "sphinx": 56}})